(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["workbench-school-run"],{"43fc":function(a,t,e){},bcb5:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"container pa-0"},[a.showLoading?e("v-layout",{staticClass:"loading-wrapper",attrs:{"fill-height":"","justify-center":"","align-center":"",row:"",wrap:""}},[e("v-flex",{attrs:{shrink:""}},[e("v-progress-circular",{attrs:{indeterminate:"",color:"accent"}})],1)],1):a._e(),e("v-card",{staticClass:"mb-2"},[e("v-layout",{attrs:{column:"",wrap:""}},[e("v-flex",{staticClass:"class-selector"},[e("v-layout",{staticClass:"primary lighten-3 pa-2",attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs6:""}},[e("div",{staticClass:"class-selection-box primary lighten-4 pa-2"},[e("v-autocomplete",{staticClass:"pa-0",attrs:{items:a.gradeItems,color:"primary","item-text":"label","item-value":"value","hide-no-data":"","hide-selected":"",placeholder:"选择年级","hide-details":""},model:{value:a.grade,callback:function(t){a.grade=t},expression:"grade"}})],1)]),e("v-spacer"),e("v-flex",{staticClass:"pr-2",attrs:{shrink:""}},[e("v-layout",{attrs:{"align-center":!0,"fill-height":"",wrap:"false"}},[e("v-flex",{},[e("v-btn",{attrs:{depressed:"",color:"transparent",fab:""}},[e("v-icon",[a._v("search")])],1)],1),e("v-flex",[e("v-btn",{attrs:{depressed:"",color:"transparent",fab:""}},[e("v-icon",[a._v("add_circle_outline")])],1)],1)],1)],1)],1)],1)],1)],1),e("v-card",{staticClass:"pa-3"},[e("v-layout",{attrs:{column:""}},[e("v-flex",[e("v-tabs-items",{model:{value:a.model,callback:function(t){a.model=t},expression:"model"}},[e("v-tab-item",{attrs:{value:"tab-1"}},[e("v-card",{attrs:{flat:""}},[e("h3",[a._v("\n                值周排行榜\n              ")]),e("v-card-title",{staticClass:"pa-1"},[e("v-text-field",{attrs:{"append-icon":"search",label:"搜索","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1),e("v-data-table",{staticClass:"elevation-0",attrs:{headers:a.headers,items:a.filteredTopItems,"hide-actions":"","no-data-text":"暂无数据...","no-results-text":"没有匹配的数据...",search:a.search},scopedSlots:a._u([{key:"items",fn:function(t){return[e("td",{staticClass:"text-xs-right"},[a.showMedal(t.item.ranking)?e("font-awesome-icon",{class:a.medalClass(t.item.ranking),attrs:{icon:"medal"}}):a._e(),a._v("\n                    "+a._s(a.formatRanking(t.item.ranking))+"\n                  ")],1),e("td",{staticClass:"text-xs-right"},[a._v("\n                    "+a._s(t.item.classFullName)+"\n                  ")]),e("td",{staticClass:"text-xs-right"},[a._v(a._s(t.item.amountScore))]),e("td",{staticClass:"text-xs-right"},[e("v-rating",{staticClass:"py-1",attrs:{color:"accent","background-color":"grey darken-1",dense:"",readonly:"",size:"10"},model:{value:t.item.starLevel,callback:function(e){a.$set(t.item,"starLevel",e)},expression:"props.item.starLevel"}})],1)]}}])}),e("div",{staticClass:"text-center"},[a.showAllTopBtn?e("v-btn",{attrs:{outline:"",color:"primary"},on:{click:a.viewAllTop}},[a._v("\n                  查看全部\n                ")]):a._e()],1)],1)],1)],1)],1)],1)],1),e("v-layout",{staticClass:"bottom-hint pa-2",attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"grey--text text-center"},[a._v("\n      ~~~ 到底了 ~~~\n    ")])],1)],1)},l=[],r=e("cebc"),n=e("2b0e"),o=e("4308"),i=e("c1df"),c=e.n(i);c.a.locale("zh-CN");var d=c()().format("M月D日，A，h点m分");console.log("TCL: now",d);var u=n["a"].extend({components:{},created:function(){this.loadTop()},data:function(){return{grade:"全部年级",gradeItems:[{label:"全部年级",value:"全部年级"},{label:"一年级",value:"一年级"},{label:"二年级",value:"二年级"},{label:"三年级",value:"三年级"},{label:"四年级",value:"四年级"},{label:"五年级",value:"五年级"},{label:"六年级",value:"六年级"}],rating:4,model:"tab-1",headers:[{text:"名次",align:"right",sortable:!0,value:"ranking"},{text:"班级",align:"right",sortable:!1,value:"classFullName"},{text:"得分",align:"right",sortable:!0,value:"amountScore"},{text:"星级",align:"right",sortable:!0,value:"starLevel"}],topItems:[],allTopItems:[],showAllTopBtn:!0,showLoading:!1,search:""}},computed:{filteredTopItems:function(){var a=this;return"全部年级"===a.grade?a.addRanking(a.topItems):a.addRanking(a.topItems).filter(function(t){return t.grade===a.grade})}},methods:{onBack:function(){this.$router.push({name:"home"})},loadTop:function(){var a=this;this.showLoading=!0,o["a"].getDutyTop(1,0,1e3).then(function(t){a.allTopItems=t.data.content,a.topItems=a.allTopItems.slice(0,10),a.showLoading=!1}).finally(function(){a.showLoading=!1})},viewAllTop:function(){this.topItems=this.allTopItems,this.showAllTopBtn=!1},addRanking:function(a){for(var t=[],e=0;e<a.length;e++)t.push(Object(r["a"])({},a[e],{ranking:e+1}));return t},showMedal:function(a){return 1===a||2===a||3===a},medalClass:function(a){var t="";switch(a){case 1:t="gold";break;case 2:t="sliver";break;case 3:t="copper";break;default:break}return t},formatRanking:function(a){var t="";switch(a){case 1:t="冠军";break;case 2:t="季军";break;case 3:t="亚军";break;default:t=a;break}return t}}}),v=u,p=(e("fb9f"),e("0c7c")),h=e("6544"),m=e.n(h),f=e("c6a6"),g=e("8336"),b=e("b0af"),x=e("12b2"),k=e("8fea"),w=e("0e8f"),C=e("132d"),T=e("a722"),y=e("490a"),_=e("1d4d"),I=e("9910"),V=e("c671"),L=e("aac8"),A=e("2677"),R=Object(p["a"])(v,s,l,!1,null,"4875c52c",null);t["default"]=R.exports;m()(R,{VAutocomplete:f["a"],VBtn:g["a"],VCard:b["a"],VCardTitle:x["a"],VDataTable:k["a"],VFlex:w["a"],VIcon:C["a"],VLayout:T["a"],VProgressCircular:y["a"],VRating:_["a"],VSpacer:I["a"],VTabItem:V["a"],VTabsItems:L["a"],VTextField:A["a"]})},fb9f:function(a,t,e){"use strict";var s=e("43fc"),l=e.n(s);l.a}}]);
//# sourceMappingURL=workbench-school-run.fa8cb254.js.map